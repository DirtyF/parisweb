<!doctype html>
<html lang="fr">
<head>
	
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Paris Web - Les User Agents, c'est le mal !</title>
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="/css2015/resetbase.css" />
<link rel="stylesheet" href="/css2015/layout.css" />
<link rel="stylesheet" href="/css2015/custom.css" />
<link rel="start" href="https://www.paris-web.fr/" title="Accueil" />

<link rel="prev bookmark" href="https://www.paris-web.fr/2012/conferences/les-nouveaux-horizons-de-la-cartographie-sur-le-web.php" title="Les nouveaux horizons de la cartographie sur le web" />
<link rel="next bookmark" href="https://www.paris-web.fr/2012/conferences/laudiodescription-pour-sauver-lhumanite.php" title="L'audiodescription pour sauver l'humanité" />

	<meta property="og:site_name" content="Paris Web" />
	<meta property="fb:admins" content="" />
	<meta name="twitter:site" content="@ParisWeb" />
	<meta name="twitter:card" content="summary" />

	<meta name="twitter:title" content="Les User Agents, c'est le mal !" />
	<meta property="twitter:description" content="Savez-vous pourquoi depuis sa première version, Microsoft Internet Explorer se fait passer pour Mozilla aux yeux des serveurs web ? Et savez-vous aussi pourquoi Opera tente désespérément de cacher à…" />
	<meta property="dc:title" content="Les User Agents, c'est le mal !" />
	<meta property="og:title" content="Les User Agents, c'est le mal !" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="https://www.paris-web.fr/2012/conferences/les-user-agents-cest-le-mal.php" />
	<meta property="og:description" content="Savez-vous pourquoi depuis sa première version, Microsoft Internet Explorer se fait passer pour Mozilla aux yeux des serveurs web ? Et savez-vous aussi pourquoi Opera tente désespérément de cacher à…" />


	<meta property="og:image" content="http://www.paris-web.fr/img/logo-parisweb-og.png" />
	<meta property="twitter:image" content="http://www.paris-web.fr/img/paris-web-print.png" />




</head>
<body>
    <div class="background">
		<header class="l-groundZero" role="banner">
		<aside>
			<ul class="shortcuts">
				<li><a href="#menu">Aller au menu</a></li>
				<li><a href="#main">Aller au contenu</a></li>
				<li><a href="/contact/">Nous contacter</a></li>
				<li class="home"><a href="/">Retour à l'accueil</a></li>
			</ul>
			<form method="get" action="https://www.paris-web.fr/cgi/mt/mt-search.cgi" class="search">
	<div role="search">
		<label for="recherche" class="visuallyhidden">Rechercher sur le site :</label>
		<input type="text" name="search" id="recherche" placeholder="Recherchez" value=""/>
		<input type="hidden" name="IncludeBlogs" value="all" />
		<input type="hidden" name="limit" value="100" />
		<input type="image" src="/img/sprites/ico-search.png" alt="Valider la recherche sur le site" />
	</div>
</form>
		</aside>
		<div class="l-block l-primary clearfix">
			<a href="/" class="l-logo"><img src="/img/logo-parisweb.png" alt="Retour à l&#39;accueil - Paris Web, webdesign, accessibilité, qualité" width="248" height="113" /></a>

			<div class="l-block l-date clearfix">
            <p>29 septembre - 1<sup>er</sup> octobre 2016</p>
			</div>
		 
			<nav class="l-primary-nav" id="menu" role="navigation" tabindex="-1">
				<input type="checkbox" id="displaymenu">
				<label for="displaymenu" onclick>
                    <span id="menu_checked">Masquer le menu</span> 
                    <span id="menu_unchecked">Afficher le menu</span> 
                </label>
				<ul name="menu">
					<li><a href="/2016/conferences/" class="s-schedule active">Conférences</a></li>
					<li><a href="/2016/ateliers/" class="s-schedule">Ateliers</a></li>
					<li><a href="/2016/orateurs/" class="s-speakers">Orateurs</a></li>
					<li><a href="/lieux/" class="s-infos">Lieux</a></li>
					<li><a href="http://shop.spreadshirt.fr/paris-web/" class="s-shop">Boutique</a></li>
				</ul>
			</nav>

			<div class="l-subscribe">
				<p> </p>
            	<a href="https://inscriptions.paris-web.fr/?utm_content=nav-paris-web" class="s-subscribe">Inscription</a>
			</div>

		</div>
	</header>
		<div role="main" id="main" class="l-groundZero" tabindex="-1">
			<p class="breadcrumb">
				<span><a href="/">Accueil</a></span>
				<span><a href="https://www.paris-web.fr/2012/">Programme 2012</a></span>
				<span>Les User Agents, c'est le mal !</span>
			</p>
			<div class="l-content l-block l-third">
					<article id="entry-667">
						<header>
							<h1>Les User Agents, c'est le mal !</h1>
						</header>




    
	






</mt:If>





<section class="s-talk-talk">
    <header><h2>La présentation</h2></header>
	
			<h3 id="video">Vidéo</h3>
			<iframe src="//www.dailymotion.com/embed/video/xvah5r?logo=0" width="100%" height="475" frameborder="0"></iframe>
			<p>
				<span class="badge"><abbr title="Cette vidéo est sous-titrée.">CC</abbr></span>
				
				
			</p>

	
</section>

	
	<section class="s-talk-subject" id="sujet-667">
		<h2>Le sujet<span class="hidden"> : <span class="summary"><a href="https://www.paris-web.fr/2012/conferences/les-user-agents-cest-le-mal.php" class="url">Les User Agents, c'est le mal !</a></span></span></h2>
		<aside class="s-talk-specs">
			<div class="span-4">
<dl class="clearfix">

<dt class="clear span-1">Format</dt>
<dd class="column"><a href="/2012/conferences/mini-conferences/">Mini-<abbr title="conférence">conf</abbr></a></dd>

<dt class="clear span-1">Lieu</dt>
<dd class="column location"><a href="/lieux/">Auditorium René Descartes</a></dd>
<dt class="clear span-1">Date</dt>
<dd class="column">
<a href="/2012/18.php">jeudi 18</a>
</dd>
<dt class="clear span-1">Heure</dt>
<dd class="column">
12 <abbr title="heures">h</abbr> 25
<abbr title="utc" class="dtstart"><!-- --></abbr>
</dd>

<dt class="clear span-1">Durée</dt>
<dd class="column">
15 <abbr title="minutes">mn</abbr>
</dd>


<dt class="clear span-1">Thème(s)</dt>
<dd class="column location"><a href="http://www.paris-web.fr/2012/recherche/navigateurs" rel="tag">navigateurs</a></dd>












<dt class="clear">Service(s)</dt>
<dd class="services"><span class="badge"><abbr title="Langue des signes française">LSF</abbr></span><span class="badge">Vélotypie</span></dd>

</dl>
</div>
		</aside>
    <div class="talk-description"><p>Savez-vous pourquoi depuis sa première version, Microsoft Internet Explorer se fait passer pour Mozilla aux yeux des serveurs web ?</p>

<p>Et savez-vous aussi pourquoi Opera tente désespérément de cacher à ces mêmes serveurs web qu’ils ont un jour sorti une version “10” ?</p>

<p>Il ne manque pas d’exemples de FAILs historiques dûs à ce petit espiègle qu’est le “User Agent”, entête HTTP destiné à laisser le navigateur se présenter comme il l’entend, mais en version bien souvent un peu mythomane sur les bords !</p>

<p>Et puisque montrer du doigt, c’est mal, alors que présenter des solutions, c’est mieux, nous verrons aussi ensemble les tentatives qui sont expérimentées aujourd’hui pour mieux maîtriser le rendu web, mais du côté du client, et en quoi ça va pragmatiquement être plus propre.</p></div>
	</section>

	
	






<section class="s-talk-speaker s-listContent" id="talk-speakers">
		<h2>Présenté par <a href="https://www.paris-web.fr/2012/../orateurs/rudy-rigot.php">Rudy Rigot</a></h2>

<div class="s-listContent-item">
        <span class="l-float-left">

			<img class="speaker-pic" alt="Rudy Rigot" src="https://www.paris-web.fr/2012/assets_c/2012/08/rudyrigot-thumb-143x143-219.jpg" width="143" height="143">

            
        </span>
<div class="speaker-bio"><p>Rudy a évolué dans le back-end, le front-end, et le fonctionnel, et utilise ces trois affinités en tant que consultant pour Clever Age, où il intervient sur de la gestion de projet fonctionnelle et technique, du conseil, et de la formation. Il est tombé amoureux du concept responsive au premier regard, et il le décortique et en parle autant sur le net (notamment sur Dev.Opera) qu’en conférences (notamment, Front Row à Cracovie l’année dernière, et même brièvement et superficiellement à Paris Web 2011). C’est à New York que le responsive est né, et c’est aussi à New York que Rudy va bientôt exporter le concept “petites agences / grosses ambitions” qui réussit à Clever Age en France.</p></div>
</div>

</section>





	<article id="transcription-667">
		<header><h2>Transcription</h2></header>
		<p>(Transcription par Tanguy Lohéac et Sophie Schuermans. Merci à eux)</p>

<p>[Applaudissements]</p>

<p>Rudy Rigot : Eh ben, bonjour tout le monde. Bienvenue à Paris Web. J’espère que vous vous éclatez bien tous. </p>

<p>Vous m’entendez ou pas ? <br />
Ouais. Je sais qu’il est 12h30. Donc je sais qu’il se fait faim. Il se fait faim pour moi aussi. Donc on est tous ensemble dans le même bateau. </p>

<p>Du coup ce que je vous propose pour nos 15 dernières minutes de la matinée, c’est qu’on parle de quelque chose, d’un peu… qui soit pas un sujet particulièrement de fond. C’est quelque chose d’assez léger, d’assez rigolo : les user agents c’est quelque chose de fun, c’est l’éclate ! Et surtout mon objectif dans tout ça c’est d’essayer de faire en sorte qu’en sortant de cette pièce vous disiez plus juste : « sniffer du user agent c’est mal ! », vous disiez : « sniffer du user agent c’est mal, et je sais pourquoi ! Et des fois hé ben on est obligé. Et je sais pourquoi aussi ! ». Voilà ! Donc on va essayer de faire ça tous ensemble.</p>

<p>Alors déjà je parle un petit peu de moi. Mais je le fais vraiment en accéléré. Je suis entré chez Clever Age, je travaille chez Clever Age dans le dev. J2E à la base, personne n’est parfait. Et du coup, j’ai continué dans plein d’autres trucs, jusqu’à arriver à de la gestion de Business Units. Et du coup, ce qui me fait arriver aujourd’hui à un projet assez intéressant en 2013 : c’est moi qui vais porter le projet Clever Age New-York ! Donc du coup ça devrait être super sympa ! [Quelques sifflets et applaudissements d’admiration dans la salle] Suivez-moi sur Twitter, je vais avoir plein de trucs à raconter !</p>

<p>Autre truc intéressant sur moi : en ce moment je suis en train de coécrire un livre avec Jérémie Patonnier (qui est juste au premier rang) qui parle de conduite et de conception de gestion de projet « responsive » qui devrait sortir en 2013 aux Editions Eyrolles. Donc restez connectés aussi. Et du coup, ben passons à autre chose ! Parlons du sujet : User agents !</p>

<p>Alors, les user agents, oui c’est le mal. Mais déjà à quoi ça sert ? Faisons un petit rappel en disant pourquoi les user agents est-ce que ça peut être utile.  Ben l’utilité première c’est de partir de l’idée que aujourd’hui, sur le marché, de tous les navigateurs, il y a énormément de plateformes différentes, que ce soit au niveau du navigateur en lui-même, ou du device, ou de l’OS etc etc… Quand ces navigateurs-là font un appel HTTP, ils envoient des requêtes. Ces requêtes sont accompagnées de headers HTTP. Je reste très basique, hein dans ce que je dis. Ces headers HTPP, c’est plein de trucs. Il y a des paramètres de l’URL, enfin des paramètres de requête, il y a la langue du navigateur, enfin beaucoup de choses sur le contexte initial du navigateur. Ça traverse le web. Ça arrive dans le serveur. Et le serveur reçoit ça. Il reçoit cette requête et il se dit : « ben mince ! Si seulement j’avais un header HTTP propre à chaque navigateur pour pouvoir différencier entre chacun et renvoyer à chacun le truc idéal pour chaque contexte !</p>

<p>C’est magique ! Le user agent est là pour ça ! C’est cool ! Et pour le coup, dans sa mission d’avoir un user agent unique par navigateur, ça il le fait bien. Il y en a bien en effet un unique par navigateur. Donc, what is the fuck ? Quel est le problème ? Plus ou moins [rires].</p>

<p>Parlons de ce qui s’est passé au niveau du user agent dans l’histoire et qui fait qu’aujourd’hui on se dit : « mais non, c’est une très bonne idée peut-être à la base, mais ça devient n’importe quoi aujourd’hui ! »</p>

<p>Faut se rappeler qu’à la base il y avait un navigateur graphique. Ce navigateur il s’appelait Mosaic. Il a été créé par NCSA qui est une division de l’armée américaine. Et le premier user agent était plutôt logique : NCSA Mosaic slash le numéro de version entre parenthèse l’OS [NCSA_Mosaic/2.0 (Windows 3.1)]. Plutôt cool ! Bien vu ! Puis est sorti Mozilla. Enfin le projet Mozilla qui s’appelait Netscape à sa sortie et qui a eu un user agent aussi, qui a continué un peu la tradition du logique : Mozilla slash version (O.S) [Mozilla/1.0 (Win3.1)]. Puis, (je saute plus ou moins des projets et des étapes mais…) puis est sorti… La question s’est posée, du moins pour le développeur de : « mais attendez ! J’ai un navigateur ici qui fait plein de trucs super cools avec  des technologies modernes, d’avenir comme les frames ! [Rires dans la salle] Et il faut que je puisse savoir si j’envoie ma page avec des frames, ou une page qui n’a pas de frame pour que Mosaic qui est un peu plus limité en ce moment puisse les reconnaître ? » Super ! J’ai le user agent ! Donc, je vais attraper le user agent. Je vais regarder s’il y a Mozilla d’écrit dedans. Et puis, s’il y a Mozilla d’écrit dedans, je vais envoyer une version hypra-moderne framée. Et s’il n’y a pas, ben du coup j’enverrais ma version vieille. Sauf que… au navigateur suivant qui a essayé d’arriver, avec son user agent plutôt logique, le problème s’est posé [MSIE/2.0 (Windows 95)]. « Ah ouais mais si j’essaie d’arriver avec ce user agent, je vais être détecté comme un vieux navigateur pourave. Sauf que moi j’essaie d’avoir des fonctionnalités super-modernes comme l’autre. Donc du coup qu’est-ce que je fais ? Eh ben je vais un peu mentir » [Mozilla/1.22 (compatible; MSIE 2.0; Windows 95]. Voilà ! Je suis Internet Explorer 2 et puis ben je dis que je suis Mozilla, mais compatible. Et puis, en fait, je suis Internet Explorer qui fait semblant d’être Mozilla. Plus ou moins. C’est là que le bordel a commencé. À la suite de ça, il y a eu une refonte de Netscape et de toute la codebase de Netscape 4. Ce qui a donné du coup Netscape 6 après ça [Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.1) Gecko/20020826]. Ce qui a donné naissance aussi au fait que le moteur de rendu web a été séparé. Il s’appelle Gecko. Il est publié en open source et il est utilisé par d’autres navigateurs, dont les navigateurs suivants. Enfin il y en a plein d’autres. J’imagine. En tout cas j’les connais pas. Mais au moins Firefox, Camino, SeaMonkey qui peuvent utiliser librement Gecko.</p>

<p>Du coup, on obtient des navigateurs qui font semblant d’être Gecko, même s’ils le font partiellement, pour être sûr d’obtenir… d’être matchés comme étant Gecko et avoir les pages qui reconnaissent Gecko, lequel fait semblant d’être Mozilla. D’accord. OK. Ça commence à devenir what is the fuck très fort quoi. À la suite de ça ben la question s’est à nouveau posée : « Ah oui mais attendez ! Internet Explorer il a un petit retard aussi par rapport aux navigateurs Gecko. Alors moi, développeur, je fais comment pour savoir quelle version de ma page j’envoie ? » Et pour répondre à ça, c’est plutôt du côté navigateur qu’il y a eu une réponse qui est arrivée, sous forme de parenthèses et d’épisodes, qui a été Opera ; qui a une période s’est dit : « on arrête les conneries » (c’est un petit peu coupé tant pis [il parle de sa présentation]). On arrête les conneries ! Moi je reprends mon user agent classique [Opera/9.51 (Windows NT 5.1; U; en)]. Parce que bon, ça suffit. Par contre, j’offre deux modes de compatibilité : un mode Gecko et un mode IE. Comme ça, l’utilisateur ben il décide, je veux voir le site qui est prévu pour Gecko, je veux voir le site qui est prévu pour IE. Voilà ! Ça simplifie tout. Évidemment, maintenant tout est clairement très très simple.</p>

<p>Bon, je ferme cette parenthèse historique.</p>

<p>À partir de Gecko se sont créées beaucoup d’autres initiatives, notamment Apple qui a créé Apple Webkit qui est d’autant plus bien connu aujourd’hui, qui était issu d’un projet open source qui s’appelait KHTML. Du coup on a Apple Webkit qui fait semblant d’être KHTML pour être sûr d’être reconnu comme étant KHTML, mais qui fait aussi semblant d’être Gecko, lequel fait semblant d’être Mozilla. Ce qui donne donc naissance à Safari [rires dans la salle] qui fait semblant d’être Apple Webkit qui fait semblant d’être Gecko et KHTML qui fait semblant d’être Mozilla. [Quelques rires dans la salle]</p>

<p>Tout va bien ! Tout va bien !</p>

<p>Et, évidemment, à la suite de ça il faut que les navigateurs qui suivent, suivent la mouvance. [Dit en accéléré] : et du coup vous avez Chrome qui fait semblant d’être Safari qui fait semblant d’être Apple WebKit qui fait semblant d’être Gecko et d’être KHTML lequel fait semblant d’être Mozilla.<br />
Donc les user agents c’est super simple finalement ! Donc voilà ! Non il y a un vrai problème avec les user agents qui est dans l’historique de ce qui s’est passé avec. Ce qui fait qu’aujourd’hui vous avez des navigateurs qui n’ont pas d’autre choix que de mentir, entre guillemets.</p>

<p>Aujourd’hui vous avez une autre problématique qui se pose. C’est la problématique moderne des user agents que vous avez peut-être vue en projet. Qui est de se dire : « mais attendez, moi tous ces navigateurs-là, il faut que je puisse les différencier d’avec les navigateurs mobiles ! »</p>

<p>Là, en ce moment c’est un peu le truc. C’est : je suis un client, je veux un site desktop oui, mais je veux aussi un site mobile. Et je veux qu’on détecte. Et je veux qu’on passe sur l’un, sur l’autre. Comment je fais, moi en tant que développeur, pour tester tout ça ? Est-ce que je teste… Je fais sur quel mot-clé, sur Androïd, sur iOS, sur mobile pour choper tout ce qui est mobile, sur Windows Phone 7 ? Mais j’oublie pas non plus les trucs peut-être un peu plus à la marge comme Web OS, comme Palm OS, comme Pocket PC, comme le Palm Pre, comme tous ces trucs ? Eh ouais ! Si le mec il arrive avec, et ben il faut que ce soit reconnu.</p>

<p>Bah la réponse elle est simple. C’est : « aller, je vais pas être chiche. Je vais tous les tester. » Voilà. Je les prends tous. Je regarde. Il y a Pocket, il y a Androïd, il y a Web OS ? Tout ça c’est bon ! C’est mobile. Le reste, c’est pas mobile. C’est tellement plus simple.</p>

<p>Sauf que non. Parce que si vous prenez le user agent d’Opera aujourd’hui ou récemment, vous avez quelque chose qui contient le mot « pre ». Presto c’est le moteur de rendu web d’Opera. Donc là vous arrivez avec un Opera Desktop, totalement desktop. Et vous avez un site de l’autre côté qui vous reconnaît comme étant un Palm Pre, donc qui vous renvoie le site mobile. Yes ! [Quelques rires sarcastiques dans la salle]</p>

<p>Trop la classe ! Et, évidemment, puisque ça n’arrive jamais aux grands… C’était le cas du Département d’État des États-Unis à l’époque. [Rires amusés dans la salle]</p>

<p>Voilà ! Donc ça arrive vraiment. C’est pas un cas à la marge. C’est vraiment quelque chose qui pose des problèmes. Et qui est vraiment problématique.</p>

<p>Autre problème de user agent, d’ailleurs petite parenthèse historique encore. Opera 10 est sorti. Il est sorti en version Alpha avec un user agent, bon, logique, très logique même par rapport à ce qu’est Opera 10. Mais sauf que, ben ils ont relâché ça [Opera/10.0 (Windows NT 6.0; U; en) Presto/2.2.0]. Et que certains sites détectent, non pas pour détecter si c’est mobile ou pas, mais pour détecter la version du navigateur.<br />
Ah c’est un Opera ! J’aimerais bien savoir quelle version, pour savoir quelle version de ma page web je lui envoie. Et il y a des sites qui du coup tombant sur Opera testent les 7 premiers caractères. C’est Opera 1 [rires dans la salle].</p>

<p>Voilà. Donc les user agent parsing ça marche pas. C’est du string parsing, donc c’est problématique. Et en plus vous avez des user agents qui mentent. C’était le cas d’allocine, à l’époque. Donc c’est vraiment des problèmes qui arrivent réellement. Bon ben c’est cool !</p>

<p>Voilà. Je vous dis les problèmes. Mais avec tout ça j’aimerais bien aussi que vous disiez : « ben ouais, du coup je fais quoi moi avec mon site ? T’es bien rigolo ! »</p>

<p>Ben la solution elle va se situer (on est à Paris Web donc il faut faire un peu de zèle), elle va se situer quand on arrive ici, dans le fait que le serveur, qui tout à l’heure disait : « je veux savoir quel est le user agent », dise : « je veux pas savoir quel est le user agent. La décision sera prise du côté du client ! »</p>

<p>C’est ça. Le pouvoir par le front-end. Vous envoyez l’intégralité du code qui peut être utile (on va simplifier), par le navigateur. Et c’est le navigateur du côté front-end qui va appliquer tout ce qui va bien, ce qui lui correspond à lui, qui va prendre la décision de ce qui lui correspond. Pour ça il existe des outils.</p>

<p>En CSS vous pouvez appliquer des media queries que vous connaissez bien. Mais il y a aussi des support queries qui sont pas particulièrement extraordinairement supportées partout. Mais ça avance. Ce qui permet de dire je déclenche ce bloc CSS si la géolocalisation existe sur mon navigateur, par exemple. Et en JS vous avez des possibilités d’utiliser des objets JS tout prêts pour vous pour détecter les fonctionnalités qui existent ou non pour exécuter du JS. Vous avez des outils qui existent comme Modernizer qui vous facilitent cette tâche-là.</p>

<p>Donc vous avez vraiment des choses qui existent qui vous permettent de faire ça par le front-end. Donc tout va bien. Et puis bon, pour les cas à la marge où vous avez vraiment besoin de séparer entre sites mobiles et sites non mobiles, par exemple, ben vous allez essayer de trouver des solutions pour contourner le truc.</p>

<p>Donc, ce qui se fait bien aujourd’hui, c’est de mettre un lien de chaque côté sur le site pas mobile vers le site mobile, et sur le site mobile vers le site pas mobile. Comme ça vos faux positifs que vous avez vraiment pas le choix de laisser passer, vous pouvez les récupérer. En le faisant par la conception et par le design plutôt que par la technique.</p>

<p>Par contre, si je vous dis : « faites tout par le front-end et vous n’aurez jamais aucun problème dans le monde. » vous allez me dire : « mais ouais mais tu m’as dit que pour les sites mobiles il n’y a pas de solution. »</p>

<p>Eh ben oui. Il y a des limites. Il y a des cas à la marge qui font que parfois le front-end va vous poser problème. Des fois, le front-end va vous mentir. Le front-end vous ment, travailleurs, travailleuses !</p>

<p>Ce qui va se passer c’est que par exemple vous allez prendre certains téléphones modernes [rires dans la salle] (je rigole. En fait il y a pas mal de Nokia smartphones, évidemment c’est pas ceux-là, qui ont le problème en question, il y a aussi les Androïd 2 quelque chose, il y a un article de Kaelig je crois qui est dans la pièce, qui est sorti il y a pas longtemps où il écrit tout ça). Et ces téléphones-là vous leur dites : « est-ce que tu supportes le font-face ? ». Il va dire : « ouais grave ! ». Alors que en fait non, pas du tout quoi ! Ils font semblant de supporter des trucs qu’ils ne supportent pas. Donc du coup si vous envoyez tout par le front-end [claquement de doigts], eh ben le front-end vous ment. Et là vous faites : « euh what is the fuck !  Encore quoi ».</p>

<p>Donc du coup vous vous dites, ouais le front-end me ment, soit, mais faut quand même que je remette en perspective, en toute relativité, beaucoup moins que les user agents qui depuis le début, je vous l’ai prouvé, vous prennent un peu pour des couillons. Et en plus, ça reste plus pérenne parce que c’est un code qui devrait fonctionner de manière un peu plus logique dans l’avenir, en respectant les standards qui sont faits pour fonctionner dans l’avenir. Donc ça reste logique d’essayer de passer à maximum par le front-end.</p>

<p>Deuxième problème : en plus le front-end se moque de vous ! Je vous assure ! Pourquoi ? Parce que par exemple, je sais pas si vous connaissez cette fonction : vous prenez un élément vidéo, et vous lui appliquez la fonction canPlayType. Et canPlayType, vous lui passez un type MIME sous forme de string, et derrière il est censé vous répondre : « oui, moi navigateur, ton élément vidéo, s’il est de tel encodage, je suis capable de le lire ou je ne suis pas capable de le lire. »</p>

<p>Et dans la spec de canPlayType, dans la spec hein ! C’est même pas les navigateurs là. Dans la spec il est écrit canPlayType peut répondre soit yes, soit vide qui veut dire non, soit [rires dans la salle] maybe, on va essayer, on va voir ce qui se passe, et à partir de là, je te dirai si c’est bon ou si c’est pas bon. Et puis il y en a un quatrième [nouveaux rires dans la salle] [probably]. Essaie ! Ça devrait y aller.</p>

<p>Voilà donc c’est un vrai problème de fond par rapport à certains éléments d’API du front-end qui vont pas vous répondre de manière claire.<br />
Donc le front-end ne va pas tout le temps vous apporter des réponses claires. On va encore replacer ça en relativité. On va se dire qu’il se moque de vous certes, mais les user agents se moquent carrément plus de vous. Donc au final, vous vous retrouvez dans une situation qui est plus maîtrisée.</p>

<p>Alors du coup, qu’est-ce qu’on se dit en conclusion ? Qu’est-ce qu’on fait ? Voilà, j’ai un projet, je fais quoi ? J’en sors quoi de cette conférence ? Qu’est-ce que je fais ?<br />
Ben je me dis, il y a un peu deux manières de faire. Soit vous partez sur l’idée que vous appliquez une solution simple, dans un budget limité ou dans un temps limité etc. Mais en mettant l’accent sur la pérennité. Et vous vous dites, je lâche prise de ce que je peux pas contrôler. Donc je fais en sorte que le site soit un maximum accessible sur un maximum de périphériques en respectant les standards. Je corrige potentiellement, via du user agent ce que vraiment j’ai pas le choix de corriger, qui doivent être des cas uniquement à la marge du front-end. Pas pour autre chose. Et je fais ça de cette manière-là.</p>

<p>Deuxième solution : j’ai du temps, j’ai de l’argent, j’ai de la R&D. Je fais des trucs qui vont être des server-side components. Donc en gros, mon élément vidéo, ben canPlayType je ne l’applique que quand le user agent n’est pas ça, ça, ça, ça. Parce que je sais que ceux-là ils vont me mentir. Voilà. </p>

<p>Ça peut être une solution d’essayer d’être perfectionniste. C’est ce que fait la BBC qui a une équipe qui est dédiée aux user agents, qui réalise l’outil de sniffing de user agent basique pour essayer de rétablir les mensonges et les erreurs du front-end. Et d’ailleurs, à ce propos-là, si vous avez des questions sur ce que fait cette équipe, sur comment ça fonctionne dans la BBC, j’ai tiré beaucoup d’informations d’un Monsieur qui s’appelle Kaelig, qui est dans la salle (je sais pas où il est). Mais n’hésitez pas, il est là. N’hésitez pas à aller le voir. Il a un pull vert. Vous le reconnaîtrez. N’hésitez pas à aller le voir après. Parce que du coup il maîtrise le sujet de comment ça s’organise chez eux. Et du coup, j’en profite pour le remercier, et pour vous remercier de m’avoir écouté. Voilà, j’espère que vous en avez tiré quelque chose.</p>

<p>[Applaudissements]<br />
</p>
	</article>

			<footer class="l-content-footer clearfix">
				<div class="s-more-ribbon s-more-ribbon-alt s-gotoTop">
                <a href="#menu"><span>&#9650;&nbsp;</span>Retour en haut de page<span>&nbsp;&#9650;</span></a>
				</div>
				<div id="partager" class="last">
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="parisweb" data-lang="fr" onClick="recordOutboundLink(this, 'Partager', 'Twitter');return false;">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script> 
<iframe src="http://www.facebook.com/plugins/like.php?href=https://www.paris-web.fr/2012/conferences/les-user-agents-cest-le-mal.php&amp;ref=prez-les-user-agents-cest-le-mal&amp;locale=fr_FR&amp;layout=button_count&amp;action=recommend&amp;show_faces=false&amp;width=190&amp;colorscheme=light&amp;height=20" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:190px; height:20px;" allowTransparency="true"></iframe>
				</div>
			</footer>
		</article>
		</div>
		<aside role="complementary" class="l-aside l-sidebar">


<section class="news l-fixedColumn l-block l-primary">
		<article>
			<h2>L'édition 2012</h2>
			<ul>
            <li><a class="roll" href="/2012/conferences/" rel="bookmark">Les conférences 2012</a></li>
            <li><a class="roll" href="/2012/18.php" rel="bookmark">Programme du jeudi 18</a></li>
            <li><a class="roll" href="/2012/19.php" rel="bookmark">Programme du vendredi 19</a></li>

            <li><a class="roll" href="/2012/ateliers/" rel="bookmark">Les ateliers 2012</a></li>
            <li><a class="roll" href="/2012/20.php" rel="bookmark">Programme du samedi 20</a></li>
            <li><a class="roll" href="/2012/orateurs/" rel="bookmark">Les orateurs 2012</a></li>
			</ul>
        <ul class="large">
            <li><a href="http://www.paris-web.fr/2012/conferences-parisweb-2012.ics">Calendrier au format iCAL/ics des conférences 2012</a></li>
			<li><a href="http://www.paris-web.fr/2012/ateliers-parisweb-2012.ics">Calendrier au format iCAL/ics des ateliers 2012</a></li>
		</ul>
		</article>
	 </section>



	<section class="news l-fixedColumn l-block l-third">
		<article>
        <h2>Dernières actualités</h2>
			<ul>
                                
				<li><time datetime=" 3 août 2016" pubdate> 3 août 2016</time><a href="https://www.paris-web.fr/actualites/2016/08/les-lightning-talks-sont-de-retour-en-2016.php"> Les lightning talks sont de retour en 2016</a></li>
                                
				<li><time datetime="18 juillet 2016" pubdate>18 juillet 2016</time><a href="https://www.paris-web.fr/actualites/2016/07/paris-web-2016-accessible-avant-tout.php"> Paris Web 2016, accessible avant tout !</a></li>
                                
				<li><time datetime=" 8 juillet 2016" pubdate> 8 juillet 2016</time><a href="https://www.paris-web.fr/actualites/2016/07/venir-a-paris-web-2016-sans-trouer-son-porte-monnaie.php"> Venir à Paris Web 2016 sans trouer son porte-monnaie</a></li>
                                
				<li><time datetime="28 juin 2016" pubdate>28 juin 2016</time><a href="https://www.paris-web.fr/actualites/2016/06/le-programme-des-ateliers-2016-est-en-ligne.php"> Le programme des Ateliers 2016 est en ligne&nbsp;!</a></li>
                                
				<li><time datetime="13 juin 2016" pubdate>13 juin 2016</time><a href="https://www.paris-web.fr/actualites/2016/06/registration-for-paris-web-2016-is-open.php"> Registration for Paris Web 2016 is open! </a></li>
            
			</ul>
			<footer class="s-more-ribbon s-more-ribbon-alt">
            	<a href="/actualites/">Liste complète des actualités</a>
			</footer>
		</article>
	 </section>
	<section class="l-fixedColumn l-secondary-nav l-block l-primary">
		<article>
			<h2 class="visuallyhidden">Suivre Paris Web</h2>
			<ul>
				<li>
                    <a href="/abonnement.php" class="s-newsletter">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
                      <path id="newsletter-icon" d="M462,54.955L355.371,437.187l-135.92-128.842L353.388,167l-179.53,124.074L50,260.973L462,54.955z   M202.992,332.528v124.517l58.738-67.927L202.992,332.528z"/>
                    </svg>
                    Newsletter</a>
                </li>
				<li>
                    <a href="/atom.xml" class="s-rss">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
                      <path id="rss-icon" d="M161.757,406.249c0,30.791-24.96,55.751-55.75,55.751c-30.79,0-55.751-24.96-55.751-55.751   s24.961-55.75,55.751-55.75C136.796,350.499,161.757,375.458,161.757,406.249z M50.256,190.424v82.593   C153.994,274.083,238.172,358.261,239.238,462h82.593C320.764,312.48,199.774,191.491,50.256,190.424z M50.256,132.602   c87.695,0.381,170.084,34.695,232.135,96.747c62.175,62.173,96.506,144.764,96.754,232.651h82.6   C461.228,234.858,277.333,50.794,50.256,50V132.602z"/>
                    </svg>
                    Flux RSS</a></li>
				<li>
                    <a href="/contact/" class="s-contact">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
                      <path id="contact-icon" d="M72.819,429.273l14.593,14.593l-15.117,15.11c-4.027,4.031-10.559,4.031-14.588,0.003  c-4.031-4.03-4.031-10.562,0-14.591L72.819,429.273z M354.941,57.21c-9.784-9.785-25.392-9.526-35.178,0.262l-99.539,99.536  c-9.785,9.788-10.044,25.392-0.258,35.177L354.941,57.21z M199.832,249.627l-58.925,58.925  c-30.745,30.745-46.211,60.295-60.268,101.438l26.058,26.058c41.143-14.06,70.689-29.523,101.434-60.264l58.93-58.929  L199.832,249.627z M441.451,75.232c-21.154-21.154-55.454-21.154-76.608,0L216.368,223.708l76.608,76.609L441.45,151.841  C462.605,130.685,462.605,96.387,441.451,75.232z"/>
                    </svg>
                    Contact</a>
                </li>
				<li>
                    <a href="http://vimeo.com/parisweb" class="s-video">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
                      <path id="video-icon" d="M462,204.43l-113,68.5v61l113,68.5V204.43z M281.084,204.43H87.916  C66.976,204.43,50,221.405,50,242.346v122.168c0,20.94,16.976,37.916,37.916,37.916h193.168c20.94,0,37.916-16.976,37.916-37.916  V242.346C319,221.405,302.024,204.43,281.084,204.43z M270.333,283.097H98.667v-27.333h171.666V283.097z M247.417,162.93h-58.432  c-7.933,0-15.369,3.859-19.936,10.346l-4.509,6.404H103.25l30.68-48.08c5.832-9.139,15.924-14.67,26.765-14.67h86.722V162.93z   M323.994,109.57h-56.224v60.721h56.224c16.768,0,30.36-13.594,30.36-30.36C354.354,123.163,340.762,109.57,323.994,109.57z"/>
                    </svg>                
                    Vidéos</a>
                </li>
				<li>
                    <a href="http://www.flickr.com/photos/parisweb/" class="s-photo">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
                      <path id="photos-icon" d="M365.498,148.125l-28.334-51.25H173.499l-26.001,51.25H50v267h412v-267H365.498z M422,263.208  h-60.408c0,0.01,0,0.021,0,0.03c0,58.224-47.368,105.592-105.592,105.592s-105.592-47.368-105.592-105.592c0-0.01,0-0.021,0-0.03H90  v-75.083h82.058l26.001-51.25h115.514l28.334,51.25H422V263.208z M256,199.625c-36.78,0-65.592,27.942-65.592,63.613  c0,36.167,29.425,65.592,65.592,65.592s65.592-29.425,65.592-65.592C321.592,227.567,292.78,199.625,256,199.625z M248.849,257.042  c-10.361,8.117-23.951,8.067-30.355-0.107c-6.402-8.176-3.192-21.383,7.17-29.499c10.364-8.117,23.955-8.067,30.357,0.108  C262.424,235.719,259.213,248.925,248.849,257.042z"/>
                    </svg>                
                    Photos</a>
                </li>
				<li>
                    <a href="http://coulisses.pw/" class="s-blog">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
                      <path id="blog-icon" d="M442.83,179.016l-47.495,25.171l-11.819-22.299l47.496-25.171L442.83,179.016z M368.516,157.252  l-22.322-11.769l25.657-48.665l22.325,11.771L368.516,157.252z M459.207,261.415l-54.697-5.894l2.703-25.089L462,236.333  L459.207,261.415z M252.26,359.463l28.864-5.689l-11.29,36.925c-2.053,6.715-7.629,11.76-14.515,13.133l-53.709,10.982  c-6.668,1.328-13.539-0.989-18.037-6.085l-26.642-30.188l29.024-5.722l11.019,12.484c2.976,3.374,7.521,4.908,11.935,4.037  l29.083-6.034c4.573-0.903,8.277-4.25,9.641-8.71L252.26,359.463z M97.141,309.615c-8.74,8.694-20.287,13.998-32.577,14.965  L50,325.725l38.621,72.634l9.093-11.433c7.674-9.648,18.527-16.254,30.622-18.639l280.066-55.204L299.519,108.3L97.141,309.615z"/>
                    </svg>                
                    Coulisses</a>
                </li>
				<li>
                    <a href="http://twitter.com/parisweb" class="s-twitter">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
                      <path id="twitter-icon" d="M462,128.223c-15.158,6.724-31.449,11.269-48.547,13.31c17.449-10.461,30.854-27.025,37.164-46.764   c-16.333,9.687-34.422,16.721-53.676,20.511c-15.418-16.428-37.386-26.691-61.698-26.691c-54.56,0-94.668,50.916-82.337,103.787   c-70.25-3.524-132.534-37.177-174.223-88.314c-22.142,37.983-11.485,87.691,26.158,112.85c-13.854-0.438-26.891-4.241-38.285-10.574   c-0.917,39.162,27.146,75.781,67.795,83.949c-11.896,3.237-24.926,3.978-38.17,1.447c10.754,33.58,41.972,58.018,78.96,58.699   C139.604,378.282,94.846,390.721,50,385.436c37.406,23.982,81.837,37.977,129.571,37.977c156.932,0,245.595-132.551,240.251-251.435   C436.339,160.061,450.668,145.174,462,128.223z"/>
                    </svg>                
                    Twitter</a>
                </li>
				<li>
                    <a href="https://www.facebook.com/ParisWeb" class="s-facebook">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
                      <path id="facebook-icon" d="M204.067,184.692h-43.144v70.426h43.144V462h82.965V254.238h57.882l6.162-69.546h-64.044   c0,0,0-25.97,0-39.615c0-16.398,3.302-22.89,19.147-22.89c12.766,0,44.896,0,44.896,0V50c0,0-47.326,0-57.441,0   c-61.734,0-89.567,27.179-89.567,79.231C204.067,174.566,204.067,184.692,204.067,184.692z"/>
                    </svg>                
                    Facebook</a>
                </li>
				<li>
                    <a href="https://plus.google.com/106173824884988309587" class="s-googleplus">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
                      <g id="google-plus-icon">
                    	<path d="M462,141.347h-54.621v54.622h-27.311v-54.622h-54.622v-27.311h54.622V59.416h27.311v54.621H462V141.347z M307.583,367.26    c0,40.943-37.384,90.787-131.434,90.787C107.365,458.047,50,428.379,50,378.478c0-38.514,24.383-88.511,138.323-88.511    c-16.922-13.792-21.075-33.077-10.733-53.959c-66.714,0-100.879-39.222-100.879-89.023c0-48.731,36.242-93.032,110.15-93.032    c18.66,0,118.398,0,118.398,0l-26.457,27.77h-31.079c21.925,12.562,33.586,38.433,33.586,66.949    c0,26.175-14.413,47.375-34.983,63.279c-36.503,28.222-27.158,43.98,11.087,71.872C295.121,312.074,307.583,333.882,307.583,367.26    z M233.738,150.453c-5.506-41.905-32.806-76.284-64.704-77.243c-31.909-0.949-53.309,31.119-47.798,73.035    c5.509,41.905,35.834,71.178,67.749,72.139C220.882,219.333,239.242,192.363,233.738,150.453z M266.631,371.463    c0-34.466-31.441-67.317-84.192-67.317c-47.542-0.523-87.832,30.042-87.832,65.471c0,36.154,34.335,66.25,81.879,66.25    C237.267,435.866,266.631,407.617,266.631,371.463z"/>
                      </g>
                    </svg>             
                    Google +</a>
                </li>
			</ul>
		</article>
	</section>

	<section class="sponsorship l-fixedColumn l-block l-second">
		<article>
			<h2>Sponsors Premium</h2>
<ul>
    <li><a href="http://delicious-insights.com/"><img width="150" src="/img/partenaires/delicious_insights.png" alt="Delicious Insights" title=""></a></li>    
</ul>
<footer class="s-more-ribbon"><a href="/partenaires.php">Découvrez tous nos sponsors</a></footer>
		</article>
	</section>

</aside>
	</div>
	<footer class="l-groundZero l-block l-third clearfix" role="contentinfo">
	<section class="l-fixedColumn">
		<h2>Paris Web</h2>
		<ul class="xtraLinks">
			<li class="s-asso">
				<ul>
					<li><a href="/association/">L’association Paris-Web</a></li>
					<li><a href="/contact/">Nous contacter</a></li>
					<li><a href="/partenaires.php">Nos partenaires</a></li>
				</ul>
			</li>
			<li class="s-goodies">
				<ul>
					<li><a href="/code-de-conduite.php/">Code de conduite</a></li>
					<li><a href="/promotion.php">Logo Paris Web</a></li>
					<li><a href="/presse/">Informations pour la presse</a></li>
				</ul>
			</li>
			<li class="s-oldies">
				Retrouvez les anciennes éditions :<br />
				<a href="/2015/">2015</a>, <a href="/2014/">2014</a>, <a href="/2013/">2013</a>, <a href="/2012/">2012</a>, <a href="/2011/">2011</a>, <a href="/2010/">2010</a>, <a href="/2009/">2009</a>, <a href="/2008/">2008</a>, <a href="/2007/">2007</a> et <a href="/2006/">2006</a>.
			</li>
		</ul>
	</section>
	<section>
		<h2>À propos</h2>
		<p>Les conférences et ateliers Paris Web sont organisés par l’association à but non lucratif Paris-Web.</p>
		<p>Les informations contenues dans ces pages peuvent faire l’objet d’un changement ultérieur. En particulier, la liste des sujets présentés, la liste des conférenciers présents, les horaires, ainsi que le lieu ou les dates de l’événement ne représentent pas un engagement formel de la part de l’association Paris-Web. Nous ne saurions être tenus responsables d’un changement de dernière minute.<br />
		Consultez nos <a href="/legal/">conditions générales et informations légales</a>.</p>
		<p>Le site Paris Web est hébergé gracieusement par <a href="http://www.gandi.net">Gandi</a>. La police est l’œuvre de <a href="//ospublish.constantvzw.org/foundry/">OSP Foundry</a>.</p>
	</section>
</footer>
	<script src="/js/jquery-1.11.3.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/jquery-1.11.3.min.js"><\/script>')</script>
<script type="text/javascript" src="/js/init.js"></script>

<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//piwik.paris-web.fr/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//piwik.paris-web.fr/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code -->

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-3735395-1']);
_gaq.push(['_trackPageview']);
_gaq.push(['_trackPageLoadTime']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
function recordOutboundLink(link, category, action) {
_gat._getTrackerByName()._trackEvent(category, action);
setTimeout('document.location = "' + link.href + '"', 100);
}
</script>
<script type="text/javascript">
  $(function() {
	  // Fonction également utilisée sur programme.html
	  function dropdownMenu(toggler, menu, parent, siblings) {
		  parent.on('mouseenter', function(event){ menu.show(); });
		  parent.on('mouseleave', function(event){ menu.hide(); });
		  toggler.on('focus', function(event){ menu.css('display','block'); });
		  if(siblings) siblings.on('focus', function(event){ menu.hide(); });
	  }
	  /* previous editions menu */
	  dropdownMenu(	$('#redirectToggler'),
			  $('#prevEdition'),
			  $('.redirect'),
			  $('#menu a:first, .search input:last'));
  }); 
</script>
</div>
</body>
</html>